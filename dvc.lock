schema: '2.0'
stages:
  clean_data:
    cmd: echo "smiles,ames" > data/model_input.csv && awk '{print $1","$3}' amesdata/smiles_cas_N6512.smi
      >> data/model_input.csv
    deps:
    - path: amesdata/smiles_cas_N6512.smi
      md5: aa408bcd82c3f98d086c9d63c38aa488
      size: 301832
    outs:
    - path: data/model_input.csv
      md5: ef66b73ac862dc35d0d40dca303ec819
      size: 222250
  feature_generation:
    cmd: python src/generate_descriptors.py data/model_input.csv data/features.csv
      data/targets.csv
    deps:
    - path: data/model_input.csv
      md5: ef66b73ac862dc35d0d40dca303ec819
      size: 222250
    - path: src/generate_descriptors.py
      md5: 6f188669977543b0e63386037faf0a67
      size: 2072
    outs:
    - path: data/features.csv
      md5: e81204a466f48764d512b7a851a5e23f
      size: 32530023
    - path: data/targets.csv
      md5: 0b3c7ac88f3a5c0b95fd1a1046511ac8
      size: 222069
  training:
    cmd: python src/train.py data/targets.csv data/features.csv 0.2 data/model.pkl
      data/metrics.json
    deps:
    - path: data/features.csv
      md5: e81204a466f48764d512b7a851a5e23f
      size: 32530023
    - path: data/model_input.csv
      md5: ef66b73ac862dc35d0d40dca303ec819
      size: 222250
    - path: src/train.py
      md5: cae07b1bfcc6ba9bdd83dab3f6b9b844
      size: 1471
    outs:
    - path: data/metrics.json
      md5: fb7434d34b456cf5e04b92332aaced65
      size: 18
    - path: data/model.pkl
      md5: cb37b9fafac6f78cd3353b87ba46663f
      size: 8866336
